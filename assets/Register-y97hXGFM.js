import{u as f,a as y,b as h,c as p,d as v,j as e,L as x,_,s as j}from"./index-LiZY9Dtv.js";import{C as L,E as k}from"./ErrorMessage-8N-F9pv2.js";import"./formik.esm-W2QfP0lo.js";const E="_main_container_ycomf_1",R={main_container:E},N=()=>{const i=f();let r=y();const[n,{isLoading:c,error:t,isSuccess:l}]=h(),[g,{isLoading:w,error:C}]=p(),m=async()=>{try{await g(o).then(s=>{console.log(s,"promise verify"),s.status===200&&r("/login",{state:{email:s?.data?.email}})})}catch(s){console.log(s)}},{verificationToken:o}=v();o&&m();const u=()=>{_.success("You successfully registered")},d=async s=>{try{await n(s).then(a=>{console.log(a,"promise register"),i(j(a.data.token))})}catch(a){console.log(a)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:R.main_container,children:[e.jsx("h1",{children:"Phonebook"}),e.jsx(L,{registerHandler:d})]}),t&&e.jsx(k,{error:t}),l&&u(),c&&e.jsx(x,{})]})};export{N as default};
